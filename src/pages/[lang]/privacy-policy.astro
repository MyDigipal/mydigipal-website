---
import PageLayout from '@/layouts/PageLayout.astro';
import { type Language, languages } from '@/i18n/config';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const { lang } = Astro.params as { lang: Language };

const content = {
  en: {
    title: "Privacy Policy",
    lastUpdated: "Last updated: December 2024",
    intro: "MyDigipal (\"we\", \"us\", or \"our\") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website mydigipal.com.",
    sections: [
      {
        title: "1. Information We Collect",
        content: `We may collect information about you in various ways:

**Personal Data**: When you fill out a contact form or request a quote, we collect:
- Name and email address
- Company name and job title
- Phone number (optional)
- Message content and marketing preferences

**Automatically Collected Data**: When you visit our website, we automatically collect:
- IP address and browser type
- Pages visited and time spent
- Referring website
- Device information`
      },
      {
        title: "2. How We Use Your Information",
        content: `We use the information we collect to:
- Respond to your inquiries and provide customer support
- Send you marketing communications (with your consent)
- Improve our website and services
- Analyze website traffic and user behavior
- Comply with legal obligations`
      },
      {
        title: "3. Cookies and Tracking Technologies",
        content: `We use cookies and similar tracking technologies to:
- Remember your preferences
- Analyze website traffic (Google Analytics)
- Provide personalized content

You can control cookies through your browser settings. Note that disabling cookies may affect your experience on our website.`
      },
      {
        title: "4. Third-Party Services",
        content: `We use the following third-party services that may collect data:
- **Google Analytics**: For website traffic analysis
- **Google Tag Manager**: For managing tracking scripts
- **LinkedIn**: For social media integration

These services have their own privacy policies governing the use of your information.`
      },
      {
        title: "5. Data Retention",
        content: `We retain your personal data only for as long as necessary to fulfill the purposes for which it was collected, typically:
- Contact form submissions: 3 years
- Marketing preferences: Until you unsubscribe
- Analytics data: 26 months`
      },
      {
        title: "6. Your Rights (GDPR)",
        content: `If you are in the European Union, you have the right to:
- **Access**: Request a copy of your personal data
- **Rectification**: Correct inaccurate data
- **Erasure**: Request deletion of your data
- **Restriction**: Limit how we use your data
- **Portability**: Receive your data in a portable format
- **Object**: Object to processing of your data

To exercise these rights, contact us at hello@mydigipal.com.`
      },
      {
        title: "7. Data Security",
        content: `We implement appropriate technical and organizational measures to protect your personal data, including:
- SSL/TLS encryption for data in transit
- Secure hosting infrastructure
- Limited access to personal data`
      },
      {
        title: "8. International Transfers",
        content: `Your data may be transferred to and processed in countries outside your country of residence, including the United States and Canada. We ensure appropriate safeguards are in place for such transfers.`
      },
      {
        title: "9. Children's Privacy",
        content: `Our website is not intended for children under 16 years of age. We do not knowingly collect personal information from children.`
      },
      {
        title: "10. Changes to This Policy",
        content: `We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.`
      },
      {
        title: "11. Contact Us",
        content: `If you have questions about this Privacy Policy or our data practices, please contact us:

**MyDigipal**
Email: hello@mydigipal.com
Paris, France | Montreal, Canada`
      }
    ]
  },
  fr: {
    title: "Politique de Confidentialité",
    lastUpdated: "Dernière mise à jour : Décembre 2024",
    intro: "MyDigipal (\"nous\", \"notre\") s'engage à protéger votre vie privée. Cette Politique de Confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web mydigipal.com.",
    sections: [
      {
        title: "1. Informations que Nous Collectons",
        content: `Nous pouvons collecter des informations vous concernant de différentes manières :

**Données Personnelles** : Lorsque vous remplissez un formulaire de contact ou demandez un devis, nous collectons :
- Nom et adresse email
- Nom de l'entreprise et fonction
- Numéro de téléphone (optionnel)
- Contenu du message et préférences marketing

**Données Collectées Automatiquement** : Lorsque vous visitez notre site, nous collectons automatiquement :
- Adresse IP et type de navigateur
- Pages visitées et temps passé
- Site web référent
- Informations sur l'appareil`
      },
      {
        title: "2. Comment Nous Utilisons Vos Informations",
        content: `Nous utilisons les informations collectées pour :
- Répondre à vos demandes et fournir un support client
- Vous envoyer des communications marketing (avec votre consentement)
- Améliorer notre site web et nos services
- Analyser le trafic et le comportement des utilisateurs
- Respecter nos obligations légales`
      },
      {
        title: "3. Cookies et Technologies de Suivi",
        content: `Nous utilisons des cookies et des technologies similaires pour :
- Mémoriser vos préférences
- Analyser le trafic du site (Google Analytics)
- Fournir du contenu personnalisé

Vous pouvez contrôler les cookies via les paramètres de votre navigateur. Notez que la désactivation des cookies peut affecter votre expérience sur notre site.`
      },
      {
        title: "4. Services Tiers",
        content: `Nous utilisons les services tiers suivants qui peuvent collecter des données :
- **Google Analytics** : Pour l'analyse du trafic
- **Google Tag Manager** : Pour la gestion des scripts de suivi
- **LinkedIn** : Pour l'intégration des réseaux sociaux

Ces services ont leurs propres politiques de confidentialité régissant l'utilisation de vos informations.`
      },
      {
        title: "5. Conservation des Données",
        content: `Nous conservons vos données personnelles uniquement aussi longtemps que nécessaire, généralement :
- Soumissions de formulaires : 3 ans
- Préférences marketing : Jusqu'à désinscription
- Données analytiques : 26 mois`
      },
      {
        title: "6. Vos Droits (RGPD)",
        content: `Si vous êtes dans l'Union Européenne, vous avez le droit de :
- **Accès** : Demander une copie de vos données personnelles
- **Rectification** : Corriger les données inexactes
- **Effacement** : Demander la suppression de vos données
- **Limitation** : Limiter l'utilisation de vos données
- **Portabilité** : Recevoir vos données dans un format portable
- **Opposition** : Vous opposer au traitement de vos données

Pour exercer ces droits, contactez-nous à hello@mydigipal.com.`
      },
      {
        title: "7. Sécurité des Données",
        content: `Nous mettons en œuvre des mesures techniques et organisationnelles appropriées pour protéger vos données personnelles, notamment :
- Chiffrement SSL/TLS pour les données en transit
- Infrastructure d'hébergement sécurisée
- Accès limité aux données personnelles`
      },
      {
        title: "8. Transferts Internationaux",
        content: `Vos données peuvent être transférées et traitées dans des pays en dehors de votre pays de résidence, y compris les États-Unis et le Canada. Nous veillons à ce que des garanties appropriées soient en place pour ces transferts.`
      },
      {
        title: "9. Vie Privée des Enfants",
        content: `Notre site web n'est pas destiné aux enfants de moins de 16 ans. Nous ne collectons pas sciemment d'informations personnelles auprès d'enfants.`
      },
      {
        title: "10. Modifications de Cette Politique",
        content: `Nous pouvons mettre à jour cette Politique de Confidentialité de temps en temps. Nous vous informerons de tout changement en publiant la nouvelle politique sur cette page et en mettant à jour la date de « Dernière mise à jour ».`
      },
      {
        title: "11. Nous Contacter",
        content: `Si vous avez des questions sur cette Politique de Confidentialité ou nos pratiques de données, veuillez nous contacter :

**MyDigipal**
Email : hello@mydigipal.com
Paris, France | Montréal, Canada`
      }
    ]
  }
};

const c = content[lang] || content.en;
---

<PageLayout lang={lang} title={c.title}>
  <section class="py-16 lg:py-24 bg-gradient-to-b from-slate-50 to-white">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <div class="mb-12">
          <h1 class="text-4xl font-bold text-slate-900 mb-4">{c.title}</h1>
          <p class="text-slate-500">{c.lastUpdated}</p>
        </div>

        <!-- Intro -->
        <p class="text-lg text-slate-600 mb-12 leading-relaxed">
          {c.intro}
        </p>

        <!-- Sections -->
        <div class="space-y-10">
          {c.sections.map((section) => (
            <div class="prose prose-slate max-w-none">
              <h2 class="text-xl font-bold text-slate-900 mb-4">{section.title}</h2>
              <div class="text-slate-600 leading-relaxed whitespace-pre-line">
                {section.content}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>
</PageLayout>
