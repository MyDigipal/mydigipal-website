---
import { type Language } from '@/i18n/config';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const translations = {
  en: {
    badge: "À La Carte Services",
    headline: "Build Your Custom ABM Stack",
    subtitle: "We're flexible. Pick only the services you need, or let us handle everything. Your choice.",
    services: [
      {
        icon: "search",
        name: "Google Ads",
        description: "Search, Display, YouTube campaigns targeting your key accounts with precision.",
        link: "/en/services/google-ads",
        features: ["Search Campaigns", "Display Retargeting", "YouTube Ads", "Performance Max"]
      },
      {
        icon: "linkedin",
        name: "LinkedIn Ads",
        description: "The #1 channel for B2B. Account targeting, Lead Gen Forms, and Sponsored Content.",
        link: "/en/services/paid-social",
        features: ["Account Targeting", "Lead Gen Forms", "Sponsored Content", "InMail Campaigns"]
      },
      {
        icon: "mail",
        name: "Email Marketing",
        description: "Nurture sequences, drip campaigns, and personalized outreach at scale.",
        link: "/en/services/emailing",
        features: ["Nurture Sequences", "Drip Campaigns", "A/B Testing", "Automation Flows"]
      },
      {
        icon: "file-text",
        name: "Content Strategy",
        description: "Ebooks, whitepapers, case studies, and webinars that convert.",
        link: null,
        features: ["Ebooks & Guides", "Case Studies", "Webinar Support", "Blog Content"]
      },
      {
        icon: "trending-up",
        name: "SEO",
        description: "Technical optimization and content strategy to capture organic demand.",
        link: "/en/services/seo",
        features: ["Technical SEO", "Content Optimization", "Keyword Strategy", "Link Building"]
      },
      {
        icon: "bar-chart-2",
        name: "Analytics & Reporting",
        description: "Custom dashboards, attribution modeling, and actionable insights.",
        link: "/en/services/tracking-reporting",
        features: ["Looker Studio", "Attribution Models", "Custom Reports", "ROI Tracking"]
      }
    ],
    cta: "Explore Service",
    contactCta: "Discuss Your Needs"
  },
  fr: {
    badge: "Services À La Carte",
    headline: "Construisez Votre Stack ABM Sur-Mesure",
    subtitle: "Nous sommes flexibles. Choisissez uniquement les services dont vous avez besoin, ou laissez-nous tout gérer. C'est votre choix.",
    services: [
      {
        icon: "search",
        name: "Google Ads",
        description: "Campagnes Search, Display, YouTube ciblant vos comptes clés avec précision.",
        link: "/fr/services/google-ads",
        features: ["Campagnes Search", "Retargeting Display", "YouTube Ads", "Performance Max"]
      },
      {
        icon: "linkedin",
        name: "LinkedIn Ads",
        description: "Le canal #1 pour le B2B. Ciblage de comptes, Lead Gen Forms, et Sponsored Content.",
        link: "/fr/services/paid-social",
        features: ["Ciblage de Comptes", "Lead Gen Forms", "Sponsored Content", "Campagnes InMail"]
      },
      {
        icon: "mail",
        name: "Email Marketing",
        description: "Séquences de nurturing, campagnes drip, et outreach personnalisé à grande échelle.",
        link: "/fr/services/emailing",
        features: ["Séquences Nurturing", "Campagnes Drip", "A/B Testing", "Flux d'Automatisation"]
      },
      {
        icon: "file-text",
        name: "Stratégie de Contenu",
        description: "Ebooks, livres blancs, études de cas et webinaires qui convertissent.",
        link: null,
        features: ["Ebooks & Guides", "Études de Cas", "Support Webinaire", "Contenu Blog"]
      },
      {
        icon: "trending-up",
        name: "SEO",
        description: "Optimisation technique et stratégie de contenu pour capturer la demande organique.",
        link: "/fr/services/seo",
        features: ["SEO Technique", "Optimisation Contenu", "Stratégie Mots-clés", "Link Building"]
      },
      {
        icon: "bar-chart-2",
        name: "Analytics & Reporting",
        description: "Tableaux de bord personnalisés, modélisation d'attribution, et insights actionnables.",
        link: "/fr/services/tracking-reporting",
        features: ["Looker Studio", "Modèles d'Attribution", "Rapports Custom", "Suivi ROI"]
      }
    ],
    cta: "Explorer le Service",
    contactCta: "Discuter de Vos Besoins"
  }
};

const t = translations[lang] || translations.en;
---

<section class="py-24 bg-gradient-to-b from-white to-indigo-50">
  <div class="container-custom">
    <!-- Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-100 text-indigo-700 font-medium mb-6">
        <Icon name="layers" size={16} />
        <span>{t.badge}</span>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">
        {t.headline}
      </h2>
      <p class="text-xl text-slate-600 max-w-3xl mx-auto">
        {t.subtitle}
      </p>
    </div>

    <!-- Services Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {t.services.map((service, index) => (
        <div
          class="service-card group relative p-6 bg-white rounded-2xl border border-slate-200 hover:border-indigo-300 transition-all duration-300 hover:shadow-xl animate-on-scroll"
          style={`animation-delay: ${index * 80}ms`}
        >
          <!-- Icon -->
          <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300">
            <Icon name={service.icon} size={28} class="text-white" />
          </div>

          <!-- Content -->
          <h3 class="text-xl font-bold text-slate-900 mb-2">{service.name}</h3>
          <p class="text-slate-600 text-sm mb-4 leading-relaxed">{service.description}</p>

          <!-- Features -->
          <div class="flex flex-wrap gap-2 mb-5">
            {service.features.map(feature => (
              <span class="px-2 py-1 text-xs bg-indigo-50 text-indigo-700 rounded-md">
                {feature}
              </span>
            ))}
          </div>

          <!-- CTA -->
          {service.link ? (
            <a
              href={service.link}
              class="inline-flex items-center gap-2 text-indigo-600 font-medium text-sm hover:text-indigo-700 transition-colors group/link"
            >
              <span>{t.cta}</span>
              <svg class="w-4 h-4 group-hover/link:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          ) : (
            <a
              href={`/${lang}/contact`}
              class="inline-flex items-center gap-2 text-slate-500 font-medium text-sm hover:text-indigo-600 transition-colors group/link"
            >
              <span>{t.contactCta}</span>
              <svg class="w-4 h-4 group-hover/link:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          )}
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .service-card {
    animation: fade-up 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  @keyframes fade-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
