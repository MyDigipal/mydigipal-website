---
import { type Language } from '@/i18n/config';
import VideoEmbed from '@/components/ui/VideoEmbed.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const content = {
  en: {
    badge: 'See It in Action',
    title: 'Our SEO Process, Visualized',
    subtitle: 'Watch how each pillar of our methodology works together to deliver results',
    videos: [
      {
        src: '/videos/seo/SEOContentPipeline.mp4',
        title: 'SEO Content Pipeline',
        description: 'From brief to published article',
        color: 'emerald',
        schemaName: 'MyDigipal SEO Content Pipeline Process',
        schemaDescription: 'Automated content pipeline showing how MyDigipal produces SEO-optimized articles at scale using AI and human review.',
      },
      {
        src: '/videos/seo/SEOArchitecture.mp4',
        title: 'SEO Architecture',
        description: 'Site structure & technical foundations',
        color: 'emerald',
        schemaName: 'MyDigipal SEO Architecture Overview',
        schemaDescription: 'Visual overview of technical SEO architecture including site structure, crawlability, and Core Web Vitals optimization.',
      },
      {
        src: '/videos/seo/SEOvsLLMO.mp4',
        title: 'SEO vs LLMO',
        description: 'Traditional SEO meets AI search',
        color: 'blue',
        schemaName: 'SEO vs LLMO Comparison by MyDigipal',
        schemaDescription: 'Comparison between traditional SEO and Large Language Model Optimization (LLMO) for AI-powered search engines.',
      },
      {
        src: '/videos/seo/SEOBriefToArticle.mp4',
        title: 'Brief to Article',
        description: 'AI content generation in 24h',
        color: 'violet',
        schemaName: 'MyDigipal Brief to Article Process',
        schemaDescription: 'How MyDigipal transforms a client brief into a fully optimized, published SEO article in under 24 hours.',
      },
    ],
  },
  fr: {
    badge: 'Voyez par vous-même',
    title: 'Notre process SEO, visualisé',
    subtitle: 'Découvrez comment chaque pilier de notre méthodologie fonctionne ensemble pour générer des résultats',
    videos: [
      {
        src: '/videos/seo/SEOContentPipeline.mp4',
        title: 'Pipeline de contenu SEO',
        description: 'Du brief à l\'article publié',
        color: 'emerald',
        schemaName: 'Pipeline de contenu SEO MyDigipal',
        schemaDescription: 'Pipeline de contenu automatisé montrant comment MyDigipal produit des articles optimisés SEO à grande échelle.',
      },
      {
        src: '/videos/seo/SEOArchitecture.mp4',
        title: 'Architecture SEO',
        description: 'Structure du site & fondations techniques',
        color: 'emerald',
        schemaName: 'Architecture SEO MyDigipal',
        schemaDescription: 'Vue d\'ensemble de l\'architecture SEO technique incluant la structure du site, la crawlabilité et les Core Web Vitals.',
      },
      {
        src: '/videos/seo/SEOvsLLMO.mp4',
        title: 'SEO vs LLMO',
        description: 'Le SEO traditionnel rencontre la recherche IA',
        color: 'blue',
        schemaName: 'Comparaison SEO vs LLMO par MyDigipal',
        schemaDescription: 'Comparaison entre le SEO traditionnel et l\'optimisation pour les moteurs de recherche IA (LLMO).',
      },
      {
        src: '/videos/seo/SEOBriefToArticle.mp4',
        title: 'Du brief à l\'article',
        description: 'Génération de contenu IA en 24h',
        color: 'violet',
        schemaName: 'Process brief vers article MyDigipal',
        schemaDescription: 'Comment MyDigipal transforme un brief client en article SEO publié et optimisé en moins de 24 heures.',
      },
    ],
  },
};

const t = content[lang] || content.en;

const colorMap: Record<string, { border: string; bg: string; text: string }> = {
  emerald: { border: 'border-emerald-500/30', bg: 'bg-emerald-500/10', text: 'text-emerald-400' },
  blue: { border: 'border-blue-500/30', bg: 'bg-blue-500/10', text: 'text-blue-400' },
  violet: { border: 'border-violet-500/30', bg: 'bg-violet-500/10', text: 'text-violet-400' },
};
---

<section class="py-24 bg-gradient-to-b from-slate-900 to-slate-950 overflow-hidden">
  <div class="container-custom">
    <!-- Header -->
    <div class="text-center max-w-3xl mx-auto mb-16">
      <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold bg-white/10 text-emerald-400 backdrop-blur-sm border border-white/10 mb-6">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {t.badge}
      </span>
      <h2 class="text-4xl lg:text-5xl font-bold text-white mb-4">
        {t.title}
      </h2>
      <p class="text-lg text-slate-400">
        {t.subtitle}
      </p>
    </div>

    <!-- Video Grid: 2x2 -->
    <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto stagger-children">
      {t.videos.map((video, index) => {
        const colors = colorMap[video.color] || colorMap.emerald;
        return (
          <div
            class={`animate-on-scroll rounded-2xl overflow-hidden border ${colors.border} bg-slate-900/50 backdrop-blur-sm hover:border-opacity-60 transition-all duration-300 hover:-translate-y-1`}
            style={`animation-delay: ${index * 120}ms`}
          >
            <VideoEmbed
              src={video.src}
              title={video.title}
              description={video.description}
              schemaName={video.schemaName}
              schemaDescription={video.schemaDescription}
              schemaUploadDate="2025-06-01"
            />
            <div class="p-5">
              <h3 class={`text-lg font-bold text-white mb-1`}>
                {video.title}
              </h3>
              <p class="text-sm text-slate-400">
                {video.description}
              </p>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>
