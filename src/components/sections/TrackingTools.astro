---
import { type Language } from '@/i18n/config';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const translations = {
  en: {
    badge: "Tools & Integrations",
    headline: "We Work With Your Stack",
    subtitle: "Expert implementation across all major platforms, CMS, and marketing tools.",
    categories: [
      {
        title: "CMS & E-commerce",
        description: "Native integrations with your website platform",
        tools: [
          { name: "WordPress", logo: "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/wordpress/wordpress-plain.svg" },
          { name: "Shopify", logo: "https://cdn.simpleicons.org/shopify/7AB55C" },
          { name: "Wix", logo: "https://cdn.simpleicons.org/wix/0C6EFC" },
          { name: "Prestashop", logo: "https://cdn.simpleicons.org/prestashop/DF0067" },
          { name: "Webflow", logo: "https://cdn.simpleicons.org/webflow/4353FF" },
        ]
      },
      {
        title: "Analytics & Tracking",
        description: "Complete measurement ecosystem",
        tools: [
          { name: "Google Tag Manager", logo: "https://cdn.simpleicons.org/googletagmanager/246FDB" },
          { name: "Google Analytics 4", logo: "https://cdn.simpleicons.org/googleanalytics/E37400" },
          { name: "Meta Pixel", logo: "https://cdn.simpleicons.org/meta/0081FB" },
          { name: "LinkedIn Insight", logo: "https://cdn.simpleicons.org/linkedin/0A66C2" },
          { name: "TikTok Pixel", logo: "https://cdn.simpleicons.org/tiktok/000000" },
        ]
      },
      {
        title: "CRM & Marketing Automation",
        description: "Certified integrations with leading platforms",
        tools: [
          { name: "HubSpot", logo: "https://cdn.simpleicons.org/hubspot/FF7A59", certified: true },
          { name: "Salesforce", logo: "https://cdn.simpleicons.org/salesforce/00A1E0", certified: true },
          { name: "Marketo", logo: "https://cdn.simpleicons.org/marketo/5C4C9F", certified: true },
          { name: "Pipedrive", logo: "https://cdn.simpleicons.org/pipedrive/1A1A1A" },
          { name: "Zoho CRM", logo: "https://cdn.simpleicons.org/zoho/C8202B" },
        ]
      }
    ],
    certifiedBadge: "Certified Partner"
  },
  fr: {
    badge: "Outils & Intégrations",
    headline: "Nous Travaillons Avec Votre Stack",
    subtitle: "Implémentation experte sur toutes les plateformes majeures, CMS et outils marketing.",
    categories: [
      {
        title: "CMS & E-commerce",
        description: "Intégrations natives avec votre plateforme web",
        tools: [
          { name: "WordPress", logo: "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/wordpress/wordpress-plain.svg" },
          { name: "Shopify", logo: "https://cdn.simpleicons.org/shopify/7AB55C" },
          { name: "Wix", logo: "https://cdn.simpleicons.org/wix/0C6EFC" },
          { name: "Prestashop", logo: "https://cdn.simpleicons.org/prestashop/DF0067" },
          { name: "Webflow", logo: "https://cdn.simpleicons.org/webflow/4353FF" },
        ]
      },
      {
        title: "Analytics & Tracking",
        description: "Ecosystème de mesure complet",
        tools: [
          { name: "Google Tag Manager", logo: "https://cdn.simpleicons.org/googletagmanager/246FDB" },
          { name: "Google Analytics 4", logo: "https://cdn.simpleicons.org/googleanalytics/E37400" },
          { name: "Meta Pixel", logo: "https://cdn.simpleicons.org/meta/0081FB" },
          { name: "LinkedIn Insight", logo: "https://cdn.simpleicons.org/linkedin/0A66C2" },
          { name: "TikTok Pixel", logo: "https://cdn.simpleicons.org/tiktok/000000" },
        ]
      },
      {
        title: "CRM & Marketing Automation",
        description: "Intégrations certifiées avec les plateformes leaders",
        tools: [
          { name: "HubSpot", logo: "https://cdn.simpleicons.org/hubspot/FF7A59", certified: true },
          { name: "Salesforce", logo: "https://cdn.simpleicons.org/salesforce/00A1E0", certified: true },
          { name: "Marketo", logo: "https://cdn.simpleicons.org/marketo/5C4C9F", certified: true },
          { name: "Pipedrive", logo: "https://cdn.simpleicons.org/pipedrive/1A1A1A" },
          { name: "Zoho CRM", logo: "https://cdn.simpleicons.org/zoho/C8202B" },
        ]
      }
    ],
    certifiedBadge: "Partenaire Certifié"
  }
};

const t = translations[lang] || translations.en;
---

<section class="py-24 bg-white">
  <div class="container-custom">
    <!-- Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-teal-100 text-teal-700 font-medium mb-6">
        <Icon name="layers" size={16} />
        <span>{t.badge}</span>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">
        {t.headline}
      </h2>
      <p class="text-xl text-slate-600 max-w-2xl mx-auto">
        {t.subtitle}
      </p>
    </div>

    <!-- Categories -->
    <div class="space-y-12">
      {t.categories.map((category, catIndex) => (
        <div class="animate-on-scroll" style={`animation-delay: ${catIndex * 150}ms`}>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-slate-900 mb-2">{category.title}</h3>
            <p class="text-slate-600">{category.description}</p>
          </div>

          <div class="flex flex-wrap justify-center gap-6">
            {category.tools.map((tool, index) => (
              <div
                class="tool-card group relative flex flex-col items-center p-6 bg-white rounded-2xl border border-slate-200 hover:border-teal-300 hover:shadow-xl transition-all duration-300 w-36"
              >
                {tool.certified && (
                  <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg">
                    <Icon name="check" size={14} class="text-white" />
                  </div>
                )}
                <div class="w-16 h-16 mb-3 flex items-center justify-center">
                  <img
                    src={tool.logo}
                    alt={tool.name}
                    class="max-w-full max-h-full object-contain group-hover:scale-110 transition-transform duration-300"
                    loading="lazy"
                  />
                </div>
                <span class="text-sm font-medium text-slate-700 text-center">{tool.name}</span>
                {tool.certified && (
                  <span class="mt-2 text-xs px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full">
                    {t.certifiedBadge}
                  </span>
                )}
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .animate-on-scroll {
    animation: fade-up 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  .tool-card {
    animation: fade-in 0.4s ease forwards;
    opacity: 0;
  }

  @keyframes fade-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    to {
      opacity: 1;
    }
  }
</style>
