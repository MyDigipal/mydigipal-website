---
import { type Language } from '@/i18n/config';
import Button from '@/components/ui/Button.astro';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const content = {
  en: {
    badge: 'Why MyDigipal?',
    title: 'Traditional Agency vs MyDigipal',
    subtitle: 'See why forward-thinking companies choose an AI-native approach to SEO.',
    rows: [
      {
        category: 'Approach',
        traditional: 'Manual keyword research & link building',
        mydigipal: 'AI-powered analysis + human strategy',
        iconName: 'target',
      },
      {
        category: 'Content Production',
        traditional: '2-4 articles/month, 2-3 week turnaround',
        mydigipal: '8-16 articles/month, 24h turnaround',
        iconName: 'file-text',
      },
      {
        category: 'AI Search (LLMO)',
        traditional: 'Not offered — most agencies ignore it',
        mydigipal: 'Full LLMO optimization for ChatGPT, Perplexity & Gemini',
        iconName: 'cpu',
      },
      {
        category: 'Schema Markup',
        traditional: 'Basic or none',
        mydigipal: 'Advanced: FAQPage, HowTo, Speakable, VideoObject',
        iconName: 'code',
      },
      {
        category: 'Reporting',
        traditional: 'Monthly PDF report',
        mydigipal: 'Real-time dashboard + AI-generated insights',
        iconName: 'bar-chart',
      },
      {
        category: 'Contract',
        traditional: '12-month minimum engagement',
        mydigipal: 'No lock-in — month-to-month flexibility',
        iconName: 'shield',
      },
      {
        category: 'Time to Results',
        traditional: '6-12 months for visible impact',
        mydigipal: '3-6 months with early wins in 30 days',
        iconName: 'zap',
      },
    ],
    traditionalLabel: 'Traditional Agency',
    mydigipalLabel: 'MyDigipal',
    cta: 'Get a free SEO audit',
    ctaHref: '/en/contact',
  },
  fr: {
    badge: 'Pourquoi MyDigipal ?',
    title: 'Agence Traditionnelle vs MyDigipal',
    subtitle: 'Découvrez pourquoi les entreprises visionnaires choisissent une approche native IA pour leur SEO.',
    rows: [
      {
        category: 'Approche',
        traditional: 'Recherche de mots-clés manuelle & netlinking',
        mydigipal: 'Analyse IA + stratégie humaine',
        iconName: 'target',
      },
      {
        category: 'Production de Contenu',
        traditional: '2-4 articles/mois, délai de 2-3 semaines',
        mydigipal: '8-16 articles/mois, livraison en 24h',
        iconName: 'file-text',
      },
      {
        category: 'Recherche IA (LLMO)',
        traditional: 'Non proposé — ignoré par la plupart des agences',
        mydigipal: 'Optimisation LLMO complète pour ChatGPT, Perplexity & Gemini',
        iconName: 'cpu',
      },
      {
        category: 'Balisage Schema',
        traditional: 'Basique ou inexistant',
        mydigipal: 'Avancé : FAQPage, HowTo, Speakable, VideoObject',
        iconName: 'code',
      },
      {
        category: 'Reporting',
        traditional: 'Rapport PDF mensuel',
        mydigipal: 'Dashboard temps réel + analyses générées par IA',
        iconName: 'bar-chart',
      },
      {
        category: 'Contrat',
        traditional: 'Engagement minimum de 12 mois',
        mydigipal: 'Sans engagement — flexibilité au mois',
        iconName: 'shield',
      },
      {
        category: 'Délai de Résultats',
        traditional: '6-12 mois pour un impact visible',
        mydigipal: '3-6 mois avec des premiers gains en 30 jours',
        iconName: 'zap',
      },
    ],
    traditionalLabel: 'Agence Traditionnelle',
    mydigipalLabel: 'MyDigipal',
    cta: 'Obtenir un audit SEO gratuit',
    ctaHref: '/fr/contact',
  },
};

const t = content[lang];
---

<section class="py-28 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white relative overflow-hidden">
  <!-- Background effects -->
  <div class="absolute inset-0">
    <div class="absolute top-1/4 left-0 w-96 h-96 bg-emerald-500/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 right-0 w-80 h-80 bg-red-500/5 rounded-full blur-3xl"></div>
  </div>

  <div class="container-custom relative z-10">
    <!-- Header -->
    <div class="text-center max-w-3xl mx-auto mb-16 animate-on-scroll">
      <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 mb-6">
        <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
        {t.badge}
      </span>
      <h2 class="text-4xl lg:text-5xl font-bold mb-6">
        {t.title}
      </h2>
      <p class="text-xl text-slate-400 leading-relaxed">
        {t.subtitle}
      </p>
    </div>

    <!-- Comparison Table -->
    <div class="max-w-5xl mx-auto mb-12 animate-on-scroll">
      <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl overflow-hidden">
        <!-- Table Header -->
        <div class="grid grid-cols-[1fr_1fr_1fr] md:grid-cols-[200px_1fr_1fr]">
          <div class="p-4 md:p-5 bg-white/5 border-b border-r border-white/10">
            <span class="text-sm font-medium text-slate-500">&nbsp;</span>
          </div>
          <div class="p-4 md:p-5 bg-red-500/10 border-b border-r border-white/10 text-center">
            <div class="flex items-center justify-center gap-2">
              <span class="text-red-400 text-lg">✕</span>
              <span class="font-bold text-red-300 text-sm md:text-base">{t.traditionalLabel}</span>
            </div>
          </div>
          <div class="p-4 md:p-5 bg-emerald-500/10 border-b border-white/10 text-center">
            <div class="flex items-center justify-center gap-2">
              <span class="text-emerald-400 text-lg">✓</span>
              <span class="font-bold text-emerald-300 text-sm md:text-base">{t.mydigipalLabel}</span>
            </div>
          </div>
        </div>

        <!-- Table Rows -->
        {t.rows.map((row, i) => (
          <div
            class={`grid grid-cols-[1fr_1fr_1fr] md:grid-cols-[200px_1fr_1fr] group hover:bg-white/5 transition-colors ${i < t.rows.length - 1 ? 'border-b border-white/5' : ''} animate-on-scroll`}
            style={`animation-delay: ${i * 80}ms`}
          >
            <!-- Category -->
            <div class="p-4 md:p-5 border-r border-white/5 flex items-center gap-2">
              <span class="hidden md:inline text-slate-400">
                <Icon name={row.iconName} size={20} />
              </span>
              <span class="text-sm font-semibold text-white">{row.category}</span>
            </div>
            <!-- Traditional -->
            <div class="p-4 md:p-5 border-r border-white/5">
              <span class="text-sm text-slate-400">{row.traditional}</span>
            </div>
            <!-- MyDigipal -->
            <div class="p-4 md:p-5">
              <span class="text-sm text-emerald-200 font-medium">{row.mydigipal}</span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- CTA -->
    <div class="text-center animate-on-scroll">
      <Button href={t.ctaHref} variant="primary" size="lg" class="bg-emerald-600 hover:bg-emerald-500 border-emerald-500">
        {t.cta}
      </Button>
    </div>
  </div>
</section>
