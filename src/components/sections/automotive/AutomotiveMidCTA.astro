---
import type { Language } from '@/i18n/config';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
  color?: 'automotive' | 'ads' | 'social' | 'primary';
}

const { lang, color = 'automotive' } = Astro.props;

const colorConfig = {
  automotive: {
    gradient: 'from-sky-600 to-blue-700',
    buttonBg: 'bg-white',
    buttonText: 'text-sky-700',
    buttonHover: 'hover:bg-sky-50',
  },
  ads: {
    gradient: 'from-amber-600 to-orange-700',
    buttonBg: 'bg-white',
    buttonText: 'text-amber-700',
    buttonHover: 'hover:bg-amber-50',
  },
  social: {
    gradient: 'from-violet-600 to-purple-700',
    buttonBg: 'bg-white',
    buttonText: 'text-violet-700',
    buttonHover: 'hover:bg-violet-50',
  },
  primary: {
    gradient: 'from-blue-600 to-indigo-700',
    buttonBg: 'bg-white',
    buttonText: 'text-blue-700',
    buttonHover: 'hover:bg-blue-50',
  },
};

const colors = colorConfig[color];

const content = {
  en: {
    title: 'Ready to Boost Your Dealership\'s Online Presence?',
    subtitle: 'Get a customized strategy tailored to your inventory and goals.',
    ctaButton: 'Calculate My Budget',
    contactButton: 'Talk to an Expert',
  },
  fr: {
    title: 'Prêt à Booster la Présence en Ligne de Votre Concession ?',
    subtitle: 'Obtenez une stratégie personnalisée adaptée à votre inventaire et vos objectifs.',
    ctaButton: 'Calculer Mon Budget',
    contactButton: 'Parler à un Expert',
  },
};

const t = content[lang];
---

<section class={`py-16 bg-gradient-to-r ${colors.gradient} relative overflow-hidden`}>
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjEiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMiIvPjwvZz48L3N2Zz4=')]"></div>
  </div>

  <!-- Floating Elements -->
  <div class="absolute top-4 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"></div>
  <div class="absolute bottom-4 right-10 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse"></div>

  <div class="container-custom relative z-10">
    <div class="flex flex-col md:flex-row items-center justify-between gap-8">
      <div class="text-center md:text-left">
        <h2 class="text-2xl lg:text-3xl font-bold text-white mb-2">
          {t.title}
        </h2>
        <p class="text-white/80">
          {t.subtitle}
        </p>
      </div>
      <div class="flex flex-wrap justify-center gap-4">
        <a
          href={`/${lang}/calculator`}
          class={`inline-flex items-center gap-2 px-6 py-3 ${colors.buttonBg} ${colors.buttonText} font-semibold rounded-xl ${colors.buttonHover} transition-all duration-300 hover:scale-105 shadow-lg`}
        >
          <Icon name="bar-chart" size={20} />
          {t.ctaButton}
        </a>
        <a
          href={`/${lang}/contact`}
          class="inline-flex items-center gap-2 px-6 py-3 bg-transparent border-2 border-white/40 text-white font-semibold rounded-xl hover:bg-white/10 hover:border-white/60 transition-all duration-300"
        >
          <Icon name="message-circle" size={20} />
          {t.contactButton}
        </a>
      </div>
    </div>
  </div>
</section>
