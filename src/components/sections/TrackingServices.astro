---
import { type Language } from '@/i18n/config';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const translations = {
  en: {
    badge: "Tracking Services",
    headline: "Complete Tracking Implementation",
    subtitle: "From pixel installation to cross-domain tracking, we set up your measurement foundation right.",
    services: [
      {
        icon: "code",
        title: "Tag Management",
        description: "Google Tag Manager setup and optimization. Clean, organized container with proper triggers and variables.",
        features: ["GTM Setup", "Custom Events", "Data Layer", "Debug & QA"]
      },
      {
        icon: "activity",
        title: "Analytics Configuration",
        description: "GA4 implementation with proper event tracking, conversions, and custom dimensions for meaningful insights.",
        features: ["GA4 Setup", "Event Tracking", "Conversions", "Audiences"]
      },
      {
        icon: "share-2",
        title: "Advertising Pixels",
        description: "Meta Pixel, LinkedIn Insight Tag, TikTok Pixel, and more - all configured for accurate conversion tracking.",
        features: ["Meta Pixel", "LinkedIn Tag", "TikTok Pixel", "Custom Events"]
      },
      {
        icon: "link",
        title: "Cross-Domain Tracking",
        description: "Seamless user journey tracking across multiple domains and subdomains without data loss.",
        features: ["Multi-Domain", "Subdomain", "User Stitching", "Session Continuity"]
      },
      {
        icon: "database",
        title: "CRM Integration",
        description: "Connect your tracking data with HubSpot, Salesforce, or other CRMs for complete customer journey visibility.",
        features: ["Lead Sync", "Attribution", "Offline Events", "Custom Fields"]
      },
      {
        icon: "smartphone",
        title: "Enhanced Conversions",
        description: "Server-side tracking and enhanced conversions for better attribution in a cookie-less world.",
        features: ["Server-Side", "First-Party", "Enhanced Conversions", "Consent Mode"]
      }
    ]
  },
  fr: {
    badge: "Services Tracking",
    headline: "Implémentation Tracking Complète",
    subtitle: "De l'installation des pixels au tracking cross-domain, nous posons correctement vos fondations de mesure.",
    services: [
      {
        icon: "code",
        title: "Gestion des Tags",
        description: "Configuration et optimisation Google Tag Manager. Conteneur propre et organisé avec triggers et variables appropriés.",
        features: ["Setup GTM", "Events Custom", "Data Layer", "Debug & QA"]
      },
      {
        icon: "activity",
        title: "Configuration Analytics",
        description: "Implémentation GA4 avec tracking d'events, conversions et dimensions custom pour des insights pertinents.",
        features: ["Setup GA4", "Tracking Events", "Conversions", "Audiences"]
      },
      {
        icon: "share-2",
        title: "Pixels Publicitaires",
        description: "Meta Pixel, LinkedIn Insight Tag, TikTok Pixel et plus - tous configurés pour un tracking de conversion précis.",
        features: ["Meta Pixel", "LinkedIn Tag", "TikTok Pixel", "Events Custom"]
      },
      {
        icon: "link",
        title: "Tracking Cross-Domain",
        description: "Suivi fluide du parcours utilisateur sur plusieurs domaines et sous-domaines sans perte de données.",
        features: ["Multi-Domaine", "Sous-domaine", "User Stitching", "Continuité Session"]
      },
      {
        icon: "database",
        title: "Intégration CRM",
        description: "Connectez vos données tracking avec HubSpot, Salesforce ou autres CRMs pour une visibilité complète.",
        features: ["Sync Leads", "Attribution", "Events Offline", "Champs Custom"]
      },
      {
        icon: "smartphone",
        title: "Conversions Améliorées",
        description: "Tracking server-side et conversions améliorées pour une meilleure attribution sans cookies.",
        features: ["Server-Side", "First-Party", "Conversions+", "Consent Mode"]
      }
    ]
  }
};

const t = translations[lang] || translations.en;
---

<section class="py-24 bg-gradient-to-b from-slate-50 to-white">
  <div class="container-custom">
    <!-- Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-teal-100 text-teal-700 font-medium mb-6">
        <Icon name="settings" size={16} />
        <span>{t.badge}</span>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">
        {t.headline}
      </h2>
      <p class="text-xl text-slate-600 max-w-2xl mx-auto">
        {t.subtitle}
      </p>
    </div>

    <!-- Services Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {t.services.map((service, index) => (
        <div
          class="service-card group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-500 border border-slate-100 hover:border-teal-200 animate-on-scroll"
          style={`animation-delay: ${index * 100}ms`}
        >
          <!-- Icon -->
          <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300">
            <Icon name={service.icon} size={28} class="text-white" />
          </div>

          <!-- Content -->
          <h3 class="text-xl font-bold text-slate-900 mb-3">{service.title}</h3>
          <p class="text-slate-600 text-sm leading-relaxed mb-4">{service.description}</p>

          <!-- Features -->
          <div class="flex flex-wrap gap-2">
            {service.features.map((feature) => (
              <span class="text-xs px-2 py-1 bg-teal-50 text-teal-600 rounded-full">
                {feature}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .service-card {
    animation: fade-up 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  @keyframes fade-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
