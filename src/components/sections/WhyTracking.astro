---
import { type Language } from '@/i18n/config';
import Icon from '@/components/ui/Icon.astro';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;

const translations = {
  en: {
    badge: "Why Tracking Matters",
    headline: "You Can't Improve What You Can't Measure",
    subtitle: "Transform scattered data into strategic decisions with proper tracking and insightful reporting.",
    stats: [
      { value: "67%", label: "of tracking setups have errors", icon: "alert-triangle" },
      { value: "40%", label: "of conversions go untracked", icon: "eye-off" },
      { value: "3x", label: "faster optimization with good data", icon: "zap" },
      { value: "100%", label: "visibility across all channels", icon: "target" },
    ],
    problems: [
      {
        title: "Broken Tags",
        description: "Missing or misconfigured tags lead to incomplete data and wrong conclusions.",
        icon: "x-circle"
      },
      {
        title: "Siloed Data",
        description: "Marketing, sales, and analytics data live in separate systems, hiding the full picture.",
        icon: "box"
      },
      {
        title: "Attribution Gaps",
        description: "You don't know which channels truly drive results, wasting budget on underperformers.",
        icon: "help-circle"
      },
      {
        title: "Manual Reporting",
        description: "Hours spent pulling data from multiple platforms instead of analyzing it.",
        icon: "clock"
      }
    ],
    ctaText: "Get a Free Tracking Audit"
  },
  fr: {
    badge: "Pourquoi le Tracking",
    headline: "Vous Ne Pouvez Pas Améliorer Ce Que Vous Ne Mesurez Pas",
    subtitle: "Transformez vos données éparpillées en décisions stratégiques avec un tracking approprié et un reporting perspicace.",
    stats: [
      { value: "67%", label: "des configs tracking ont des erreurs", icon: "alert-triangle" },
      { value: "40%", label: "des conversions non trackées", icon: "eye-off" },
      { value: "3x", label: "optimisation plus rapide avec bonnes données", icon: "zap" },
      { value: "100%", label: "visibilité sur tous les canaux", icon: "target" },
    ],
    problems: [
      {
        title: "Tags Cassés",
        description: "Tags manquants ou mal configurés mènent à des données incomplètes et mauvaises conclusions.",
        icon: "x-circle"
      },
      {
        title: "Données Silotées",
        description: "Les données marketing, ventes et analytics vivent dans des systèmes séparés, cachant la vue d'ensemble.",
        icon: "box"
      },
      {
        title: "Gaps d'Attribution",
        description: "Vous ne savez pas quels canaux génèrent vraiment des résultats, gaspillant du budget.",
        icon: "help-circle"
      },
      {
        title: "Reporting Manuel",
        description: "Des heures passées à extraire des données de multiples plateformes au lieu de les analyser.",
        icon: "clock"
      }
    ],
    ctaText: "Audit Tracking Gratuit"
  }
};

const t = translations[lang] || translations.en;
---

<section class="py-24 bg-white">
  <div class="container-custom">
    <!-- Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-teal-100 text-teal-700 font-medium mb-6">
        <Icon name="bar-chart-2" size={16} />
        <span>{t.badge}</span>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">
        {t.headline}
      </h2>
      <p class="text-xl text-slate-600 max-w-3xl mx-auto">
        {t.subtitle}
      </p>
    </div>

    <!-- Stats Row -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-16">
      {t.stats.map((stat, index) => (
        <div
          class="text-center p-6 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-2xl animate-on-scroll"
          style={`animation-delay: ${index * 100}ms`}
        >
          <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center">
            <Icon name={stat.icon} size={24} class="text-white" />
          </div>
          <div class="text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2">
            {stat.value}
          </div>
          <div class="text-sm text-slate-600">{stat.label}</div>
        </div>
      ))}
    </div>

    <!-- Problems Grid -->
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
      {t.problems.map((problem, index) => (
        <div
          class="problem-card group p-6 bg-white rounded-2xl border border-slate-200 hover:border-red-200 hover:shadow-xl transition-all duration-300 animate-on-scroll"
          style={`animation-delay: ${index * 100}ms`}
        >
          <div class="w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-4 group-hover:bg-red-500 transition-colors">
            <Icon name={problem.icon} size={24} class="text-red-500 group-hover:text-white transition-colors" />
          </div>
          <h3 class="text-lg font-bold text-slate-900 mb-2">{problem.title}</h3>
          <p class="text-sm text-slate-600">{problem.description}</p>
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div class="text-center mt-12 animate-on-scroll">
      <a
        href={`/${lang}/contact`}
        class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-semibold rounded-xl hover:shadow-xl hover:scale-105 transition-all duration-300"
      >
        <Icon name="search" size={20} />
        <span>{t.ctaText}</span>
      </a>
    </div>
  </div>
</section>

<style>
  .animate-on-scroll {
    animation: fade-up 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  @keyframes fade-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
